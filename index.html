<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Introduction | redux-task</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="build statusnpm version">
        <meta name="generator" content="GitBook 2.5.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-prism/prism.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./docs/introduction/index.html" />
    
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="0" data-chapter-title="Introduction" data-filepath="README.md" data-basepath="." data-revision="Tue Mar 22 2016 17:02:08 GMT+0800 (CST)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter active" data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="docs/introduction/index.html">
            
                
                    <a href="./docs/introduction/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Get Started
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="docs/introduction/Beginner_Tutorial.html">
            
                
                    <a href="./docs/introduction/Beginner_Tutorial.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Beginner Tutorial
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="docs/introduction/Thoughts_Behind_Code.html">
            
                
                    <a href="./docs/introduction/Thoughts_Behind_Code.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Thoughts Behind Code
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="docs/introduction/Concepts.html">
            
                
                    <a href="./docs/introduction/Concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Concepts
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="docs/usage/index.html">
            
                
                    <a href="./docs/usage/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Usage
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="docs/usage/Listen.html">
            
                
                    <a href="./docs/usage/Listen.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Listen
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="docs/usage/Name.html">
            
                
                    <a href="./docs/usage/Name.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Name
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="docs/usage/Query_Task_State.html">
            
                
                    <a href="./docs/usage/Query_Task_State.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Query Task State
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="docs/usage/Cancel.html">
            
                
                    <a href="./docs/usage/Cancel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Cancel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="docs/usage/With_React.html">
            
                
                    <a href="./docs/usage/With_React.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        With React
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="docs/examples/index.html">
            
                
                    <a href="./docs/examples/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Examples
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="docs/api/API.html">
            
                
                    <a href="./docs/api/API.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        API reference
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >redux-task</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="reduxtask">redux-task</h1>
<p><a href="https://travis-ci.org/sskyy/redux-task" target="_blank"><img src="https://img.shields.io/travis/sskyy/redux-task/master.svg?style=flat-square" alt="build status"></a>
<a href="https://www.npmjs.com/package/redux-task" target="_blank"><img src="https://img.shields.io/npm/v/redux-task.svg?style=flat-square" alt="npm version"></a></p>
<p><a href="http://sskyy.github.io/redux-task" target="_blank">Documents</a>.
A Side Effects enhancer for redux. The idea is simple: By given an asynchronous task(such as submitting data to server) a name, redux-task will create and handle the task state for you automatically. Then you can retrieve the state with the task name in your component easily. No need to create store state like <code>isSubmitting</code> or <code>submitFailed</code> and manully change them any more. </p>
<h2 id="usage-example">Usage Example</h2>
<p>Scenario: Render a <code>button</code> and a <code>span</code>. When user click the button, a ajax API will be called. When ajax finished, show result in <code>span</code>.</p>
<p>Let&apos;s compare the solution between <code>redux-thunk</code> and <code>redux-task</code>.</p>
<h3 id="reduxthunk">redux-thunk</h3>
<p><strong>reducer.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&apos;START&apos;</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        disabled<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
        result<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token string">&apos;SUCCESS&apos;</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        disabled<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span>
        result<span class="token punctuation">:</span> <span class="token string">&apos;success&apos;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token string">&apos;FAILED&apos;</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        disabled<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span>
        result<span class="token punctuation">:</span> <span class="token string">&apos;failed&apos;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        disabled<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span>
        result<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>action.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">start</span><span class="token punctuation">(</span>dispatch<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;START&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;data_url&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;SUCCESS&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;FAILED&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre>
<p><strong>component.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button
      onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> props<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token punctuation">}</span> disabled<span class="token operator">=</span><span class="token punctuation">{</span> props<span class="token punctuation">.</span>disabled <span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>click
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span> props<span class="token punctuation">.</span>result <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>


<span class="token keyword">const</span> ConnectedApp <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>f <span class="token operator">=</span><span class="token operator">&gt;</span> f<span class="token punctuation">)</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
</code></pre>
<h3 id="reduxtask">redux-task</h3>
<p><strong>listener.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">const</span> EVENT <span class="token operator">=</span> <span class="token string">&apos;fetch_event&apos;</span>
<span class="token keyword">const</span> TASK <span class="token operator">=</span> <span class="token string">&apos;fetch_task&apos;</span>

<span class="token keyword">const</span> listener <span class="token operator">=</span>  <span class="token function">listen</span><span class="token punctuation">(</span>EVENT<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// give a name to the asynchronous task</span>
  <span class="token keyword">yield</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&apos;data_url&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> TASK<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>component.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&apos;&apos;</span>
  <span class="token comment" spellcheck="true">// automatically get state of the named task</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span> props<span class="token punctuation">.</span>task<span class="token punctuation">[</span> TASK <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;fulfilled&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message <span class="token operator">=</span> <span class="token string">&apos;success&apos;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>task<span class="token punctuation">[</span> TASK <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;rejected&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message <span class="token operator">=</span> <span class="token string">&apos;failed&apos;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button
        onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> props<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span>EVENT<span class="token punctuation">)</span> <span class="token punctuation">}</span>
        disabled<span class="token operator">=</span><span class="token punctuation">{</span> props<span class="token punctuation">.</span>task<span class="token punctuation">[</span> TASK <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&apos;pending&apos;</span> <span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> MonitorApp <span class="token operator">=</span> <span class="token function">monitor</span><span class="token punctuation">(</span>task <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> task <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
</code></pre>
<p>Code can be found here: <a href="https://github.com/sskyy/redux-task/tree/master/examples/basic" target="_blank">https://github.com/sskyy/redux-task/tree/master/examples/basic</a>.</p>
<p>More examples such as how to cancel a task can be found here: <a href="https://github.com/sskyy/redux-task/tree/master/examples" target="_blank">https://github.com/sskyy/redux-task/tree/master/examples</a>.</p>
<h2 id="why-another-side-effects-library">Why Another Side Effects Library?</h2>
<ul>
<li>Save your time to create state for async actions.</li>
<li>Generator and Promise are perfect for async flow control. Advanced scenario like <strong>cancel a async action</strong> can be handled easily. Thanks redux-saga for the thought.</li>
<li>It&apos;s much intuitive than competitors.</li>
</ul>
<h2 id="license">License</h2>
<p>MIT</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        
        <a href="./docs/introduction/index.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Get Started"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"github":{"url":"https://github.com/sskyy/redux-task/"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"prism":{},"search":{},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
